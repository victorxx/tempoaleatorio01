<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  
  <!-- Responsividade em dispositivos m√≥veis -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Informa√ß√µes para mecanismos de busca (SEO) -->
  <title>Portal Regional ES ‚Äì Not√≠cias, Clima e V√≠deos de Vit√≥ria/ES</title>
  <meta name="description" content="Portal Regional do Esp√≠rito Santo: not√≠cias, clima em tempo real de Vit√≥ria/ES, v√≠deos locais e an√∫ncios regionais.">
  <meta name="keywords" content="Vit√≥ria ES, clima ES, not√≠cias Esp√≠rito Santo, v√≠deos ES, an√∫ncios Vit√≥ria">
  <meta name="author" content="Portal Regional ES">

  <!-- Metadados para compartilhamento em redes sociais (Open Graph) -->
  <meta property="og:title" content="Portal Regional ES ‚Äì Vit√≥ria/ES em tempo real">
  <meta property="og:description" content="Portal com atualiza√ß√µes sobre o clima, v√≠deos informativos e an√∫ncios regionais no Esp√≠rito Santo.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://seudominio.com/imagens/logo-es.jpg">

  <!-- Estilos CSS -->
  <style>
    body {
      background-color: black;
      color: white;
      margin: 0;
      font-family: Arial, sans-serif;
      overflow-x: hidden; /* Impede rolagem horizontal */
    }

    /* Anima√ß√£o piscante */
    @keyframes blink {
      0%,100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    /* Estilo base para an√∫ncios laterais */
    .side-ad {
      position: fixed;
      top: 80px;
      bottom: 200px;
      width: 240px;
      padding: 20px 10px;
      font-size: 16px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: 0 0 15px #f0f0f0;
      animation: blink 1.5s infinite;
      z-index: 9999;
    }

    /* An√∫ncio do lado esquerdo */
    .side-ad-left {
      left: 0;
      background-color: #ffd700;
      color: black;
      border-top-right-radius: 20px;
      border-bottom-right-radius: 20px;
      flex-direction: column;
    }

    /* Clima do lado direito */
    #tempo {
      right: 0;
      background-color: green;
      color: white;
      border-top-left-radius: 20px;
      border-bottom-left-radius: 20px;
      flex-direction: column;
      white-space: pre-line; /* para quebra de linha no \n */
    }

    /* Container do v√≠deo */
    #videoContainer {
      margin: 100px auto 30px auto;
      max-width: 700px;
      box-shadow: 0 0 20px #ffd700;
      border-radius: 10px;
      overflow: hidden;
    }

    /* T√≠tulo do v√≠deo */
    #videoTitle {
      text-align: center;
      font-size: 1.3rem;
      font-weight: bold;
      margin: 10px 0;
      color: #ffd700;
    }

    /* Estilo do v√≠deo (iframe do YouTube) */
    iframe {
      width: 100%;
      height: 400px;
      border: none;
    }

    /* Conte√∫do aleat√≥rio */
    #conteudoUnico {
      margin: 40px auto;
      max-width: 600px;
      background-color: #222;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ffd700;
      white-space: pre-wrap;
      color: #00ffcc;
      text-align: center;
      font-family: monospace;
    }

    /* Estilo dos links */
    a {
      color: inherit;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    /* Ajustes para telas pequenas (responsivo) */
    @media (max-width: 600px) {
      .side-ad {
        width: 120px;
        font-size: 12px;
        padding: 10px;
      }
      iframe {
        height: 250px;
      }
    }
    #ads {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 350px;
      height: 400px;
      background-color: #f1f1f1;
      border: 2px solid #ccc;
      padding: 0;
      z-index: 9999;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      border-radius: 10px;
      overflow: hidden;
    }

    @media (max-width: 600px) {
      #ads {
        width: 90%;
        left: 5%;
        right: 5%;
        height: 180px;
        bottom: 20px;
      }
    }

    /* Bot√£o fechar an√∫ncio */
    #fecharAds {
      position: absolute;
      top: 5px;
      right: 5px;
      background: rgba(0,0,0,0.6);
      color: white;
      border: none;
      border-radius: 3px;
      padding: 3px 8px;
      cursor: pointer;
      font-size: 14px;
      z-index: 10000;
    }
  </style>
</head>
<body>

  <!-- An√∫ncio lateral esquerdo com link din√¢mico -->
  <div class="side-ad side-ad-left">
    <a id="leftLink" href="#" target="_blank">Carregando...</a>
  </div>

  <!-- Div do clima, ser√° preenchida via JavaScript -->
  <div class="side-ad" id="tempo">Carregando clima...</div>

  <!-- Container do v√≠deo YouTube com t√≠tulo acima -->
  <div id="videoContainer">
    <div id="videoTitle">Carregando t√≠tulo do v√≠deo...</div>
    <iframe id="ytVideo" title="V√≠deo ES" allowfullscreen></iframe>
  </div>

  <!-- Conte√∫do aleat√≥rio e √∫nico -->
  <div id="conteudoUnico">Carregando conte√∫do √∫nico...</div>

  <!-- An√∫ncio flutuante (fixo) no canto inferior direito -->
  <div id="ads">
    <button id="fecharAds" aria-label="Fechar an√∫ncio">√ó Fechar</button>
    <iframe 
      src="https://propagandaads01.vercel.app/" 
      width="100%" 
      height="100%" 
      style="border: none;" 
      loading="lazy"
      title="An√∫ncio Regional">
    </iframe>
  </div>

  <!-- Scripts JavaScript -->
  <script>
    // Lista de an√∫ncios (links e textos)
    const urls = [
      { url: "https://wa.me/5527999497001", texto: "SEGURO REGIONAL E CONS√ìRCIOS" },
      { url: "https://geocredibnkvitoria.com/", texto: "üí∞ Cr√©dito r√°pido em Vit√≥ria" },
      { url: "https://central.dokehost.com.br/aff.php?aff=90", texto: "Hospedagem profissional ES" },
      { url: "https://hostinger.com.br", texto: "Crie seu site regional com desconto!" },
      { url: "https://ocomerciobrasileironoticia.blogspot.com/2025/05/erp-profissional-para-empresas.html", texto: "ERP PROFISSIONAL" },
      { url: "https://jogosantigos472302513.wordpress.com/confira-essas-empresas/", texto: "CONFIRA ESSAS EMPRESAS!" },
      { url: "https://www.youtube.com/@gamenologia", texto: "confira esse canal" },
      { url: "https://brasilbrasileiross.blogspot.com/", texto: "portal brasil" },
      { 
        url: "https://www.google.com/local/place/fid/0x94ce576cd6370297:0xf3d4ef05e830adbc/photosphere?iu=https://streetviewpixels-pa.googleapis.com/v1/thumbnail?panoid%3D71IlTdLu2fTAPzRExvEwyw%26cb_client%3Dsearch.gws-prod.gps%26yaw%3D16.277996%26pitch%3D0%26thumbfov%3D100%26w%3D0%26h%3D0&ik=CAISFjcxSWxUZEx1MmZUQVB6UkV4dkV3eXc%3D&sa=X&ved=2ahUKEwiz0JjU9qCOAxXlp5UCHedLJpcQpx96BAgaEBI", 
        texto: "Problema capilar n√≥s temos a solu√ß√£o" 
      },
      { url: "https://www.instagram.com/reel/DHoqFcwRH7x/", texto: "problema capilar n√≥s temos a solu√ß√£o" }
    ];

    // Aplica um link aleat√≥rio ao banner lateral esquerdo
    function aplicarBanner(idLink) {
      const item = urls[Math.floor(Math.random() * urls.length)];
      const link = document.getElementById(idLink);
      link.href = item.url;
      link.textContent = item.texto;
      link.title = item.texto;
    }

    // Carrega dados de clima de Vit√≥ria/ES usando Open-Meteo com cache localStorage
    async function carregarTempo() {
      const CACHE_KEY = 'clima_cache';
      const CACHE_TEMPO = 60 * 60 * 1000; // 1 hora em milissegundos

      const agora = Date.now();
      const cache = JSON.parse(localStorage.getItem(CACHE_KEY));

      if (cache && (agora - cache.timestamp < CACHE_TEMPO)) {
        // Usa dados em cache
        document.getElementById("tempo").textContent = cache.texto;
        return;
      }

      try {
        const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=-20.3155&longitude=-40.3128&current_weather=true&timezone=America/Sao_Paulo");
        const data = await res.json();
        const temp = data.current_weather.temperature;
        const code = data.current_weather.weathercode;

        // Interpreta√ß√£o simples do c√≥digo do tempo
        const desc = code === 0 ? "C√©u limpo" :
                     code < 3 ? "Parcialmente nublado" :
                     code < 60 ? "Chuvoso" : "Condi√ß√£o inst√°vel";

        const texto = `Vit√≥ria/ES\n${temp}¬∞C - ${desc}`;
        document.getElementById("tempo").textContent = texto;

        // Salva no cache
        localStorage.setItem(CACHE_KEY, JSON.stringify({
          timestamp: agora,
          texto: texto
        }));

      } catch {
        document.getElementById("tempo").textContent = "Erro ao carregar o clima";
      }
    }

    // Lista de v√≠deos com ID do YouTube e t√≠tulo
    const videos = [
      { id: "y2CAUctryUo", titulo: "Yuri22 quebra monitor e passa mal ap√≥s comer ovo cru em live, Rica Games se envolve com DR0G4S?" },
      { id: "HwbiI4LewZg", titulo: "HeliosCast e William opiniam sobre o caso Rica Games !!!" },
      { id: "yfbzU45XM0c", titulo: "BOULOS CONVOCA O POVO √ÄS RUAS... PARA PAGAR MAIS IMPOSTOS" },
      { id: "4QZfL7_8eBQ", titulo: "0 morde e assopra sempre existe na pol√≠tica, acho engra√ßado isto" },
      { id: "aqLS7tTgV3k", titulo: "SEM CENSURA RECEBE FABIANA KARLA, FERNANDA GENTIL E EDUARDO STERBLITCH" },
      { id: "zmuJxySozpM", titulo: "Advogado Walfrido Warde √© o convidado do Dando a Real" }
    ];

    // Escolhe um v√≠deo aleat√≥rio e insere no iframe
    function carregarVideoAleatorio() {
      const vid = videos[Math.floor(Math.random() * videos.length)];
      document.getElementById("ytVideo").src = `https://www.youtube.com/embed/${vid.id}?rel=0&autoplay=1&mute=1`;
      document.getElementById("videoTitle").textContent = vid.titulo;
    }

    // Gera uma string aleat√≥ria para simular conte√∫do √∫nico
    function gerarConteudoUnico(len = 300) {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*()';
      let text = '';
      for (let i = 0; i < len; i++) {
        text += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      document.getElementById("conteudoUnico").textContent = text;
    }

    // Fun√ß√£o para fechar o an√∫ncio flutuante
    document.addEventListener("DOMContentLoaded", () => {
      aplicarBanner('leftLink');    // Aplica banner
      carregarTempo();              // Busca clima com cache
      carregarVideoAleatorio();     // Mostra v√≠deo
      gerarConteudoUnico();         // Cria conte√∫do aleat√≥rio

      // Evento para fechar an√∫ncio flutuante
      document.getElementById('fecharAds').addEventListener('click', function() {
        document.getElementById('ads').style.display = 'none';
      });
    });
  </script>
</body>
</html>
